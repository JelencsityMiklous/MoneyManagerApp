{"ast":null,"code":"import Chart from 'chart.js/auto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/wallet.service\";\nexport let StatisticsComponent = /*#__PURE__*/(() => {\n  class StatisticsComponent {\n    constructor(walletService) {\n      this.walletService = walletService;\n    }\n    ngAfterViewInit() {\n      // Kis késleltetés, hogy a canvas biztosan készen legyen\n      setTimeout(() => {\n        this.renderChart();\n      }, 200);\n    }\n    renderChart() {\n      const income = this.walletService.getTotalIncome();\n      const expense = this.walletService.getTotalExpense();\n      const ctx = document.getElementById('statsChart');\n      if (!ctx) return;\n      if (this.chart) this.chart.destroy();\n      this.chart = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: ['Bevétel', 'Kiadás'],\n          datasets: [{\n            label: 'Összeg (Ft)',\n            data: [income, expense],\n            backgroundColor: ['#28a745', '#dc3545']\n          }]\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true,\n              title: {\n                display: true,\n                text: 'Összeg (Ft)'\n              }\n            }\n          },\n          plugins: {\n            legend: {\n              display: false\n            },\n            title: {\n              display: true,\n              text: 'Bevétel vs Kiadás'\n            }\n          }\n        }\n      });\n      console.log('Statisztika kirajzolva:', {\n        income,\n        expense\n      });\n    }\n    static {\n      this.ɵfac = function StatisticsComponent_Factory(t) {\n        return new (t || StatisticsComponent)(i0.ɵɵdirectiveInject(i1.WalletService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: StatisticsComponent,\n        selectors: [[\"app-statistics\"]],\n        decls: 4,\n        vars: 0,\n        consts: [[1, \"container\", \"text-center\", \"mt-5\"], [\"id\", \"statsChart\", \"width\", \"400\", \"height\", \"300\"]],\n        template: function StatisticsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"Statisztika\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(3, \"canvas\", 1);\n            i0.ɵɵelementEnd();\n          }\n        },\n        styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n      });\n    }\n  }\n  return StatisticsComponent;\n})();","map":{"version":3,"names":["Chart","StatisticsComponent","constructor","walletService","ngAfterViewInit","setTimeout","renderChart","income","getTotalIncome","expense","getTotalExpense","ctx","document","getElementById","chart","destroy","type","data","labels","datasets","label","backgroundColor","options","responsive","scales","y","beginAtZero","title","display","text","plugins","legend","console","log","i0","ɵɵdirectiveInject","i1","WalletService","selectors","decls","vars","consts","template","StatisticsComponent_Template","rf","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["C:\\Users\\Attila\\mkoneymanagerapp\\MoneyManagerApp\\frontend\\money-manager\\src\\app\\components\\statistics\\statistics.component.ts","C:\\Users\\Attila\\mkoneymanagerapp\\MoneyManagerApp\\frontend\\money-manager\\src\\app\\components\\statistics\\statistics.component.html"],"sourcesContent":["import { Component, AfterViewInit } from '@angular/core';\r\nimport { WalletService } from '../../services/wallet.service';\r\nimport Chart from 'chart.js/auto';\r\n\r\n@Component({\r\n  selector: 'app-statistics',\r\n  templateUrl: './statistics.component.html',\r\n  styleUrls: ['./statistics.component.css']\r\n})\r\nexport class StatisticsComponent implements AfterViewInit {\r\n  chart: any;\r\n\r\n  constructor(private walletService: WalletService) {}\r\n\r\n  ngAfterViewInit(): void {\r\n    // Kis késleltetés, hogy a canvas biztosan készen legyen\r\n    setTimeout(() => {\r\n      this.renderChart();\r\n    }, 200);\r\n  }\r\n\r\n  renderChart(): void {\r\n    const income = this.walletService.getTotalIncome();\r\n    const expense = this.walletService.getTotalExpense();\r\n\r\n    const ctx = document.getElementById('statsChart') as HTMLCanvasElement | null;\r\n    if (!ctx) return;\r\n\r\n    if (this.chart) this.chart.destroy();\r\n\r\n    this.chart = new Chart(ctx, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: ['Bevétel', 'Kiadás'],\r\n        datasets: [\r\n          {\r\n            label: 'Összeg (Ft)',\r\n            data: [income, expense],\r\n            backgroundColor: ['#28a745', '#dc3545']\r\n          }\r\n        ]\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        scales: {\r\n          y: {\r\n            beginAtZero: true,\r\n            title: { display: true, text: 'Összeg (Ft)' }\r\n          }\r\n        },\r\n        plugins: {\r\n          legend: { display: false },\r\n          title: { display: true, text: 'Bevétel vs Kiadás' }\r\n        }\r\n      }\r\n    });\r\n\r\n    console.log('Statisztika kirajzolva:', { income, expense });\r\n  }\r\n}\r\n","<div class=\"container text-center mt-5\">\r\n  <h2>Statisztika</h2>\r\n  <canvas id=\"statsChart\" width=\"400\" height=\"300\"></canvas>\r\n</div>\r\n"],"mappings":"AAEA,OAAOA,KAAK,MAAM,eAAe;;;AAOjC,WAAaC,mBAAmB;EAA1B,MAAOA,mBAAmB;IAG9BC,YAAoBC,aAA4B;MAA5B,KAAAA,aAAa,GAAbA,aAAa;IAAkB;IAEnDC,eAAeA,CAAA;MACb;MACAC,UAAU,CAAC,MAAK;QACd,IAAI,CAACC,WAAW,EAAE;MACpB,CAAC,EAAE,GAAG,CAAC;IACT;IAEAA,WAAWA,CAAA;MACT,MAAMC,MAAM,GAAG,IAAI,CAACJ,aAAa,CAACK,cAAc,EAAE;MAClD,MAAMC,OAAO,GAAG,IAAI,CAACN,aAAa,CAACO,eAAe,EAAE;MAEpD,MAAMC,GAAG,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAA6B;MAC7E,IAAI,CAACF,GAAG,EAAE;MAEV,IAAI,IAAI,CAACG,KAAK,EAAE,IAAI,CAACA,KAAK,CAACC,OAAO,EAAE;MAEpC,IAAI,CAACD,KAAK,GAAG,IAAId,KAAK,CAACW,GAAG,EAAE;QAC1BK,IAAI,EAAE,KAAK;QACXC,IAAI,EAAE;UACJC,MAAM,EAAE,CAAC,SAAS,EAAE,QAAQ,CAAC;UAC7BC,QAAQ,EAAE,CACR;YACEC,KAAK,EAAE,aAAa;YACpBH,IAAI,EAAE,CAACV,MAAM,EAAEE,OAAO,CAAC;YACvBY,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS;WACvC;SAEJ;QACDC,OAAO,EAAE;UACPC,UAAU,EAAE,IAAI;UAChBC,MAAM,EAAE;YACNC,CAAC,EAAE;cACDC,WAAW,EAAE,IAAI;cACjBC,KAAK,EAAE;gBAAEC,OAAO,EAAE,IAAI;gBAAEC,IAAI,EAAE;cAAa;;WAE9C;UACDC,OAAO,EAAE;YACPC,MAAM,EAAE;cAAEH,OAAO,EAAE;YAAK,CAAE;YAC1BD,KAAK,EAAE;cAAEC,OAAO,EAAE,IAAI;cAAEC,IAAI,EAAE;YAAmB;;;OAGtD,CAAC;MAEFG,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE;QAAE1B,MAAM;QAAEE;MAAO,CAAE,CAAC;IAC7D;;;yBAjDWR,mBAAmB,EAAAiC,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,aAAA;MAAA;IAAA;;;cAAnBpC,mBAAmB;QAAAqC,SAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAjC,GAAA;UAAA,IAAAiC,EAAA;YCR9BV,EADF,CAAAW,cAAA,aAAwC,SAClC;YAAAX,EAAA,CAAAY,MAAA,kBAAW;YAAAZ,EAAA,CAAAa,YAAA,EAAK;YACpBb,EAAA,CAAAc,SAAA,gBAA0D;YAC5Dd,EAAA,CAAAa,YAAA,EAAM;;;;;;;SDMO9C,mBAAmB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}