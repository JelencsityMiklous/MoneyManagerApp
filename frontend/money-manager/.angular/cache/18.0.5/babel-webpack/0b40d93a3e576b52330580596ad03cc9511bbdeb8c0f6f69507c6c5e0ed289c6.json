{"ast":null,"code":"import { Chart, registerables } from 'chart.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/wallet.service\";\nconst _c0 = [\"chartCanvas\"];\nChart.register(...registerables);\nexport let StatisticsComponent = /*#__PURE__*/(() => {\n  class StatisticsComponent {\n    constructor(walletService) {\n      this.walletService = walletService;\n    }\n    ngOnInit() {\n      this.walletService.wallet$.subscribe(wallet => {\n        if (this.chart) this.chart.destroy();\n        this.chart = new Chart(this.chartRef.nativeElement, {\n          type: 'doughnut',\n          data: {\n            labels: ['Bevétel', 'Kiadás'],\n            datasets: [{\n              data: [wallet.income, wallet.expense],\n              backgroundColor: ['#28a745', '#dc3545']\n            }]\n          }\n        });\n      });\n    }\n    static {\n      this.ɵfac = function StatisticsComponent_Factory(t) {\n        return new (t || StatisticsComponent)(i0.ɵɵdirectiveInject(i1.WalletService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: StatisticsComponent,\n        selectors: [[\"app-statistics\"]],\n        viewQuery: function StatisticsComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.chartRef = _t.first);\n          }\n        },\n        decls: 5,\n        vars: 0,\n        consts: [[\"chartCanvas\", \"\"], [1, \"statistics-container\"]],\n        template: function StatisticsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"h2\");\n            i0.ɵɵtext(2, \"Statisztika\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(3, \"canvas\", null, 0);\n            i0.ɵɵelementEnd();\n          }\n        },\n        styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n      });\n    }\n  }\n  return StatisticsComponent;\n})();","map":{"version":3,"names":["Chart","registerables","register","StatisticsComponent","constructor","walletService","ngOnInit","wallet$","subscribe","wallet","chart","destroy","chartRef","nativeElement","type","data","labels","datasets","income","expense","backgroundColor","i0","ɵɵdirectiveInject","i1","WalletService","selectors","viewQuery","StatisticsComponent_Query","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["C:\\Users\\Attila\\mkoneymanagerapp\\MoneyManagerApp\\frontend\\money-manager\\src\\app\\components\\statistics\\statistics.component.ts","C:\\Users\\Attila\\mkoneymanagerapp\\MoneyManagerApp\\frontend\\money-manager\\src\\app\\components\\statistics\\statistics.component.html"],"sourcesContent":["import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport { WalletService } from '../../services/wallet.service';\r\nChart.register(...registerables);\r\n\r\n@Component({\r\n  selector: 'app-statistics',\r\n  templateUrl: './statistics.component.html',\r\n  styleUrls: ['./statistics.component.css']\r\n})\r\nexport class StatisticsComponent implements OnInit {\r\n  @ViewChild('chartCanvas') chartRef!: ElementRef<HTMLCanvasElement>;\r\n  chart!: Chart;\r\n\r\n  constructor(private walletService: WalletService) {}\r\n\r\n  ngOnInit() {\r\n    this.walletService.wallet$.subscribe(wallet => {\r\n      if (this.chart) this.chart.destroy();\r\n      this.chart = new Chart(this.chartRef.nativeElement, {\r\n        type: 'doughnut',\r\n        data: {\r\n          labels: ['Bevétel', 'Kiadás'],\r\n          datasets: [{\r\n            data: [wallet.income, wallet.expense],\r\n            backgroundColor: ['#28a745', '#dc3545']\r\n          }]\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","<div class=\"statistics-container\">\r\n  <h2>Statisztika</h2>\r\n  <canvas #chartCanvas></canvas>\r\n</div>\r\n"],"mappings":"AACA,SAASA,KAAK,EAAEC,aAAa,QAAQ,UAAU;;;;AAE/CD,KAAK,CAACE,QAAQ,CAAC,GAAGD,aAAa,CAAC;AAOhC,WAAaE,mBAAmB;EAA1B,MAAOA,mBAAmB;IAI9BC,YAAoBC,aAA4B;MAA5B,KAAAA,aAAa,GAAbA,aAAa;IAAkB;IAEnDC,QAAQA,CAAA;MACN,IAAI,CAACD,aAAa,CAACE,OAAO,CAACC,SAAS,CAACC,MAAM,IAAG;QAC5C,IAAI,IAAI,CAACC,KAAK,EAAE,IAAI,CAACA,KAAK,CAACC,OAAO,EAAE;QACpC,IAAI,CAACD,KAAK,GAAG,IAAIV,KAAK,CAAC,IAAI,CAACY,QAAQ,CAACC,aAAa,EAAE;UAClDC,IAAI,EAAE,UAAU;UAChBC,IAAI,EAAE;YACJC,MAAM,EAAE,CAAC,SAAS,EAAE,QAAQ,CAAC;YAC7BC,QAAQ,EAAE,CAAC;cACTF,IAAI,EAAE,CAACN,MAAM,CAACS,MAAM,EAAET,MAAM,CAACU,OAAO,CAAC;cACrCC,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS;aACvC;;SAEJ,CAAC;MACJ,CAAC,CAAC;IACJ;;;yBApBWjB,mBAAmB,EAAAkB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,aAAA;MAAA;IAAA;;;cAAnBrB,mBAAmB;QAAAsB,SAAA;QAAAC,SAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;UAAA,IAAAD,EAAA;;;;;;;;;;;;;YCT9BP,EADF,CAAAS,cAAA,aAAkC,SAC5B;YAAAT,EAAA,CAAAU,MAAA,kBAAW;YAAAV,EAAA,CAAAW,YAAA,EAAK;YACpBX,EAAA,CAAAY,SAAA,sBAA8B;YAChCZ,EAAA,CAAAW,YAAA,EAAM;;;;;;;SDOO7B,mBAAmB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}