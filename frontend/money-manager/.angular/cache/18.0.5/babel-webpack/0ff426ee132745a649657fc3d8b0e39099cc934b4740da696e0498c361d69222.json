{"ast":null,"code":"import Chart from 'chart.js/auto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/wallet.service\";\nexport let StatisticsComponent = /*#__PURE__*/(() => {\n  class StatisticsComponent {\n    constructor(walletService) {\n      this.walletService = walletService;\n    }\n    ngAfterViewInit() {\n      // Kis késleltetés, hogy a canvas biztosan készen legyen\n      setTimeout(() => {\n        this.renderChart();\n      }, 200);\n    }\n    renderChart() {\n      const income = this.walletService.getTotalIncome();\n      const expense = this.walletService.getTotalExpense();\n      const ctx = document.getElementById('statsChart');\n      if (!ctx) {\n        console.error('Nem található a canvas elem!');\n        return;\n      }\n      if (this.chart) {\n        this.chart.destroy();\n      }\n      this.chart = new Chart(ctx, {\n        type: 'pie',\n        data: {\n          labels: ['Bevétel', 'Kiadás'],\n          datasets: [{\n            data: [income, expense],\n            backgroundColor: ['#28a745', '#dc3545'],\n            borderColor: ['#fff', '#fff'],\n            borderWidth: 2\n          }]\n        },\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'bottom'\n            },\n            title: {\n              display: true,\n              text: 'Bevétel vs Kiadás'\n            }\n          }\n        }\n      });\n      console.log('Diagram kirajzolva:', {\n        income,\n        expense\n      });\n    }\n    static {\n      this.ɵfac = function StatisticsComponent_Factory(t) {\n        return new (t || StatisticsComponent)(i0.ɵɵdirectiveInject(i1.WalletService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: StatisticsComponent,\n        selectors: [[\"app-statistics\"]],\n        decls: 4,\n        vars: 0,\n        consts: [[1, \"container\", \"text-center\", \"mt-5\"], [\"id\", \"statsChart\", \"width\", \"400\", \"height\", \"400\"]],\n        template: function StatisticsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"Statisztika\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(3, \"canvas\", 1);\n            i0.ɵɵelementEnd();\n          }\n        },\n        styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n      });\n    }\n  }\n  return StatisticsComponent;\n})();","map":{"version":3,"names":["Chart","StatisticsComponent","constructor","walletService","ngAfterViewInit","setTimeout","renderChart","income","getTotalIncome","expense","getTotalExpense","ctx","document","getElementById","console","error","chart","destroy","type","data","labels","datasets","backgroundColor","borderColor","borderWidth","options","responsive","plugins","legend","position","title","display","text","log","i0","ɵɵdirectiveInject","i1","WalletService","selectors","decls","vars","consts","template","StatisticsComponent_Template","rf","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["C:\\Users\\Attila\\mkoneymanagerapp\\MoneyManagerApp\\frontend\\money-manager\\src\\app\\components\\statistics\\statistics.component.ts","C:\\Users\\Attila\\mkoneymanagerapp\\MoneyManagerApp\\frontend\\money-manager\\src\\app\\components\\statistics\\statistics.component.html"],"sourcesContent":["import { Component, AfterViewInit } from '@angular/core';\r\nimport { WalletService } from '../../services/wallet.service';\r\nimport Chart from 'chart.js/auto';\r\n\r\n@Component({\r\n  selector: 'app-statistics',\r\n  templateUrl: './statistics.component.html',\r\n  styleUrls: ['./statistics.component.css']\r\n})\r\nexport class StatisticsComponent implements AfterViewInit {\r\n  chart: any;\r\n\r\n  constructor(private walletService: WalletService) {}\r\n\r\n  ngAfterViewInit(): void {\r\n    // Kis késleltetés, hogy a canvas biztosan készen legyen\r\n    setTimeout(() => {\r\n      this.renderChart();\r\n    }, 200);\r\n  }\r\n\r\n  renderChart(): void {\r\n    const income = this.walletService.getTotalIncome();\r\n    const expense = this.walletService.getTotalExpense();\r\n\r\n    const ctx = document.getElementById('statsChart') as HTMLCanvasElement | null;\r\n\r\n    if (!ctx) {\r\n      console.error('Nem található a canvas elem!');\r\n      return;\r\n    }\r\n\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n    }\r\n\r\n    this.chart = new Chart(ctx, {\r\n      type: 'pie',\r\n      data: {\r\n        labels: ['Bevétel', 'Kiadás'],\r\n        datasets: [\r\n          {\r\n            data: [income, expense],\r\n            backgroundColor: ['#28a745', '#dc3545'],\r\n            borderColor: ['#fff', '#fff'],\r\n            borderWidth: 2\r\n          }\r\n        ]\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        plugins: {\r\n          legend: { position: 'bottom' },\r\n          title: { display: true, text: 'Bevétel vs Kiadás' }\r\n        }\r\n      }\r\n    });\r\n\r\n    console.log('Diagram kirajzolva:', { income, expense });\r\n  }\r\n}\r\n","<div class=\"container text-center mt-5\">\r\n  <h2>Statisztika</h2>\r\n  <canvas id=\"statsChart\" width=\"400\" height=\"400\"></canvas>\r\n</div>\r\n"],"mappings":"AAEA,OAAOA,KAAK,MAAM,eAAe;;;AAOjC,WAAaC,mBAAmB;EAA1B,MAAOA,mBAAmB;IAG9BC,YAAoBC,aAA4B;MAA5B,KAAAA,aAAa,GAAbA,aAAa;IAAkB;IAEnDC,eAAeA,CAAA;MACb;MACAC,UAAU,CAAC,MAAK;QACd,IAAI,CAACC,WAAW,EAAE;MACpB,CAAC,EAAE,GAAG,CAAC;IACT;IAEAA,WAAWA,CAAA;MACT,MAAMC,MAAM,GAAG,IAAI,CAACJ,aAAa,CAACK,cAAc,EAAE;MAClD,MAAMC,OAAO,GAAG,IAAI,CAACN,aAAa,CAACO,eAAe,EAAE;MAEpD,MAAMC,GAAG,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAA6B;MAE7E,IAAI,CAACF,GAAG,EAAE;QACRG,OAAO,CAACC,KAAK,CAAC,8BAA8B,CAAC;QAC7C;MACF;MAEA,IAAI,IAAI,CAACC,KAAK,EAAE;QACd,IAAI,CAACA,KAAK,CAACC,OAAO,EAAE;MACtB;MAEA,IAAI,CAACD,KAAK,GAAG,IAAIhB,KAAK,CAACW,GAAG,EAAE;QAC1BO,IAAI,EAAE,KAAK;QACXC,IAAI,EAAE;UACJC,MAAM,EAAE,CAAC,SAAS,EAAE,QAAQ,CAAC;UAC7BC,QAAQ,EAAE,CACR;YACEF,IAAI,EAAE,CAACZ,MAAM,EAAEE,OAAO,CAAC;YACvBa,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC;YACvCC,WAAW,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;YAC7BC,WAAW,EAAE;WACd;SAEJ;QACDC,OAAO,EAAE;UACPC,UAAU,EAAE,IAAI;UAChBC,OAAO,EAAE;YACPC,MAAM,EAAE;cAAEC,QAAQ,EAAE;YAAQ,CAAE;YAC9BC,KAAK,EAAE;cAAEC,OAAO,EAAE,IAAI;cAAEC,IAAI,EAAE;YAAmB;;;OAGtD,CAAC;MAEFlB,OAAO,CAACmB,GAAG,CAAC,qBAAqB,EAAE;QAAE1B,MAAM;QAAEE;MAAO,CAAE,CAAC;IACzD;;;yBAlDWR,mBAAmB,EAAAiC,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,aAAA;MAAA;IAAA;;;cAAnBpC,mBAAmB;QAAAqC,SAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAjC,GAAA;UAAA,IAAAiC,EAAA;YCR9BV,EADF,CAAAW,cAAA,aAAwC,SAClC;YAAAX,EAAA,CAAAY,MAAA,kBAAW;YAAAZ,EAAA,CAAAa,YAAA,EAAK;YACpBb,EAAA,CAAAc,SAAA,gBAA0D;YAC5Dd,EAAA,CAAAa,YAAA,EAAM;;;;;;;SDMO9C,mBAAmB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}