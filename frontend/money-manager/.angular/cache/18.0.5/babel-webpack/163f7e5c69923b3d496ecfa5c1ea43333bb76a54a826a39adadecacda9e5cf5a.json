{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let WalletService = /*#__PURE__*/(() => {\n  class WalletService {\n    constructor() {\n      this.balance = 0;\n      this.transactions = [];\n      this.loadFromStorage(); // Betöltjük induláskor az adatokat\n    }\n    // Bevétel hozzáadása\n    addIncome(amount) {\n      this.balance += amount;\n      this.transactions.push({\n        type: 'income',\n        amount,\n        date: new Date().toLocaleString()\n      });\n      this.saveToStorage();\n    }\n    // Kiadás hozzáadása\n    addExpense(amount) {\n      this.balance -= amount;\n      this.transactions.push({\n        type: 'expense',\n        amount,\n        date: new Date().toLocaleString()\n      });\n      this.saveToStorage();\n    }\n    // Összeg lekérése\n    getBalance() {\n      return this.balance;\n    }\n    // Bevétel összesen\n    getTotalIncome() {\n      return this.transactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0);\n    }\n    // Kiadás összesen\n    getTotalExpense() {\n      return this.transactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0);\n    }\n    // Tranzakciók lekérése\n    getTransactions() {\n      return this.transactions;\n    }\n    // ===========================\n    //  LocalStorage kezelés\n    // ===========================\n    saveToStorage() {\n      const data = {\n        balance: this.balance,\n        transactions: this.transactions\n      };\n      localStorage.setItem('walletData', JSON.stringify(data));\n    }\n    loadFromStorage() {\n      const data = localStorage.getItem('walletData');\n      if (data) {\n        const parsed = JSON.parse(data);\n        this.balance = parsed.balance || 0;\n        this.transactions = parsed.transactions || [];\n      }\n    }\n    clearWallet() {\n      this.balance = 0;\n      this.transactions = [];\n      localStorage.removeItem('walletData');\n    }\n    static {\n      this.ɵfac = function WalletService_Factory(t) {\n        return new (t || WalletService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: WalletService,\n        factory: WalletService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return WalletService;\n})();","map":{"version":3,"names":["WalletService","constructor","balance","transactions","loadFromStorage","addIncome","amount","push","type","date","Date","toLocaleString","saveToStorage","addExpense","getBalance","getTotalIncome","filter","t","reduce","sum","getTotalExpense","getTransactions","data","localStorage","setItem","JSON","stringify","getItem","parsed","parse","clearWallet","removeItem","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Attila\\mkoneymanagerapp\\MoneyManagerApp\\frontend\\money-manager\\src\\app\\services\\wallet.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\nexport interface Transaction {\r\n  type: 'income' | 'expense';\r\n  amount: number;\r\n  date: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WalletService {\r\n  private balance = 0;\r\n  private transactions: Transaction[] = [];\r\n\r\n  constructor() {\r\n    this.loadFromStorage(); // Betöltjük induláskor az adatokat\r\n  }\r\n\r\n  // Bevétel hozzáadása\r\n  addIncome(amount: number): void {\r\n    this.balance += amount;\r\n    this.transactions.push({\r\n      type: 'income',\r\n      amount,\r\n      date: new Date().toLocaleString()\r\n    });\r\n    this.saveToStorage();\r\n  }\r\n\r\n  // Kiadás hozzáadása\r\n  addExpense(amount: number): void {\r\n    this.balance -= amount;\r\n    this.transactions.push({\r\n      type: 'expense',\r\n      amount,\r\n      date: new Date().toLocaleString()\r\n    });\r\n    this.saveToStorage();\r\n  }\r\n\r\n  // Összeg lekérése\r\n  getBalance(): number {\r\n    return this.balance;\r\n  }\r\n\r\n  // Bevétel összesen\r\n  getTotalIncome(): number {\r\n    return this.transactions\r\n      .filter(t => t.type === 'income')\r\n      .reduce((sum, t) => sum + t.amount, 0);\r\n  }\r\n\r\n  // Kiadás összesen\r\n  getTotalExpense(): number {\r\n    return this.transactions\r\n      .filter(t => t.type === 'expense')\r\n      .reduce((sum, t) => sum + t.amount, 0);\r\n  }\r\n\r\n  // Tranzakciók lekérése\r\n  getTransactions(): Transaction[] {\r\n    return this.transactions;\r\n  }\r\n\r\n  // ===========================\r\n  //  LocalStorage kezelés\r\n  // ===========================\r\n\r\n  private saveToStorage(): void {\r\n    const data = {\r\n      balance: this.balance,\r\n      transactions: this.transactions\r\n    };\r\n    localStorage.setItem('walletData', JSON.stringify(data));\r\n  }\r\n\r\n  private loadFromStorage(): void {\r\n    const data = localStorage.getItem('walletData');\r\n    if (data) {\r\n      const parsed = JSON.parse(data);\r\n      this.balance = parsed.balance || 0;\r\n      this.transactions = parsed.transactions || [];\r\n    }\r\n  }\r\n\r\n  clearWallet(): void {\r\n    this.balance = 0;\r\n    this.transactions = [];\r\n    localStorage.removeItem('walletData');\r\n  }\r\n}\r\n"],"mappings":";AAWA,WAAaA,aAAa;EAApB,MAAOA,aAAa;IAIxBC,YAAA;MAHQ,KAAAC,OAAO,GAAG,CAAC;MACX,KAAAC,YAAY,GAAkB,EAAE;MAGtC,IAAI,CAACC,eAAe,EAAE,CAAC,CAAC;IAC1B;IAEA;IACAC,SAASA,CAACC,MAAc;MACtB,IAAI,CAACJ,OAAO,IAAII,MAAM;MACtB,IAAI,CAACH,YAAY,CAACI,IAAI,CAAC;QACrBC,IAAI,EAAE,QAAQ;QACdF,MAAM;QACNG,IAAI,EAAE,IAAIC,IAAI,EAAE,CAACC,cAAc;OAChC,CAAC;MACF,IAAI,CAACC,aAAa,EAAE;IACtB;IAEA;IACAC,UAAUA,CAACP,MAAc;MACvB,IAAI,CAACJ,OAAO,IAAII,MAAM;MACtB,IAAI,CAACH,YAAY,CAACI,IAAI,CAAC;QACrBC,IAAI,EAAE,SAAS;QACfF,MAAM;QACNG,IAAI,EAAE,IAAIC,IAAI,EAAE,CAACC,cAAc;OAChC,CAAC;MACF,IAAI,CAACC,aAAa,EAAE;IACtB;IAEA;IACAE,UAAUA,CAAA;MACR,OAAO,IAAI,CAACZ,OAAO;IACrB;IAEA;IACAa,cAAcA,CAAA;MACZ,OAAO,IAAI,CAACZ,YAAY,CACrBa,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACT,IAAI,KAAK,QAAQ,CAAC,CAChCU,MAAM,CAAC,CAACC,GAAG,EAAEF,CAAC,KAAKE,GAAG,GAAGF,CAAC,CAACX,MAAM,EAAE,CAAC,CAAC;IAC1C;IAEA;IACAc,eAAeA,CAAA;MACb,OAAO,IAAI,CAACjB,YAAY,CACrBa,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACT,IAAI,KAAK,SAAS,CAAC,CACjCU,MAAM,CAAC,CAACC,GAAG,EAAEF,CAAC,KAAKE,GAAG,GAAGF,CAAC,CAACX,MAAM,EAAE,CAAC,CAAC;IAC1C;IAEA;IACAe,eAAeA,CAAA;MACb,OAAO,IAAI,CAAClB,YAAY;IAC1B;IAEA;IACA;IACA;IAEQS,aAAaA,CAAA;MACnB,MAAMU,IAAI,GAAG;QACXpB,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBC,YAAY,EAAE,IAAI,CAACA;OACpB;MACDoB,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC;IAC1D;IAEQlB,eAAeA,CAAA;MACrB,MAAMkB,IAAI,GAAGC,YAAY,CAACI,OAAO,CAAC,YAAY,CAAC;MAC/C,IAAIL,IAAI,EAAE;QACR,MAAMM,MAAM,GAAGH,IAAI,CAACI,KAAK,CAACP,IAAI,CAAC;QAC/B,IAAI,CAACpB,OAAO,GAAG0B,MAAM,CAAC1B,OAAO,IAAI,CAAC;QAClC,IAAI,CAACC,YAAY,GAAGyB,MAAM,CAACzB,YAAY,IAAI,EAAE;MAC/C;IACF;IAEA2B,WAAWA,CAAA;MACT,IAAI,CAAC5B,OAAO,GAAG,CAAC;MAChB,IAAI,CAACC,YAAY,GAAG,EAAE;MACtBoB,YAAY,CAACQ,UAAU,CAAC,YAAY,CAAC;IACvC;;;yBA/EW/B,aAAa;MAAA;IAAA;;;eAAbA,aAAa;QAAAgC,OAAA,EAAbhC,aAAa,CAAAiC,IAAA;QAAAC,UAAA,EAFZ;MAAM;IAAA;;SAEPlC,aAAa;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}