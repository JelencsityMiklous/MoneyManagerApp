{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./auth.service\";\nexport let WalletService = /*#__PURE__*/(() => {\n  class WalletService {\n    constructor(auth) {\n      this.auth = auth;\n    }\n    save(user) {\n      this.auth.saveUser(user);\n    }\n    getBalance() {\n      const user = this.auth.getCurrentUser();\n      return user ? user.wallet.balance : 0;\n    }\n    getTotalIncome() {\n      const user = this.auth.getCurrentUser();\n      return user ? user.wallet.income : 0;\n    }\n    getTotalExpense() {\n      const user = this.auth.getCurrentUser();\n      return user ? user.wallet.expense : 0;\n    }\n    addIncome(amount) {\n      const user = this.auth.getCurrentUser();\n      if (!user) return;\n      user.wallet.balance += amount;\n      user.wallet.income += amount;\n      this.save(user);\n    }\n    addExpense(amount) {\n      const user = this.auth.getCurrentUser();\n      if (!user) return;\n      user.wallet.balance -= amount;\n      user.wallet.expense += amount;\n      this.save(user);\n    }\n    resetWallet() {\n      const user = this.auth.getCurrentUser();\n      if (user) {\n        user.wallet = {\n          balance: 5000,\n          income: 0,\n          expense: 0\n        };\n        this.save(user);\n      }\n    }\n    static {\n      this.ɵfac = function WalletService_Factory(t) {\n        return new (t || WalletService)(i0.ɵɵinject(i1.AuthService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: WalletService,\n        factory: WalletService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return WalletService;\n})();","map":{"version":3,"names":["WalletService","constructor","auth","save","user","saveUser","getBalance","getCurrentUser","wallet","balance","getTotalIncome","income","getTotalExpense","expense","addIncome","amount","addExpense","resetWallet","i0","ɵɵinject","i1","AuthService","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Attila\\mkoneymanagerapp\\MoneyManagerApp\\frontend\\money-manager\\src\\app\\services\\wallet.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { AuthService } from './auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WalletService {\r\n  constructor(private auth: AuthService) {}\r\n\r\n  private save(user: any) {\r\n    this.auth.saveUser(user);\r\n  }\r\n\r\n  getBalance(): number {\r\n    const user = this.auth.getCurrentUser();\r\n    return user ? user.wallet.balance : 0;\r\n  }\r\n\r\n  getTotalIncome(): number {\r\n    const user = this.auth.getCurrentUser();\r\n    return user ? user.wallet.income : 0;\r\n  }\r\n\r\n  getTotalExpense(): number {\r\n    const user = this.auth.getCurrentUser();\r\n    return user ? user.wallet.expense : 0;\r\n  }\r\n\r\n  addIncome(amount: number) {\r\n    const user = this.auth.getCurrentUser();\r\n    if (!user) return;\r\n    user.wallet.balance += amount;\r\n    user.wallet.income += amount;\r\n    this.save(user);\r\n  }\r\n\r\n  addExpense(amount: number) {\r\n    const user = this.auth.getCurrentUser();\r\n    if (!user) return;\r\n    user.wallet.balance -= amount;\r\n    user.wallet.expense += amount;\r\n    this.save(user);\r\n  }\r\n\r\n  resetWallet() {\r\n    const user = this.auth.getCurrentUser();\r\n    if (user) {\r\n      user.wallet = { balance: 5000, income: 0, expense: 0 };\r\n      this.save(user);\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;AAMA,WAAaA,aAAa;EAApB,MAAOA,aAAa;IACxBC,YAAoBC,IAAiB;MAAjB,KAAAA,IAAI,GAAJA,IAAI;IAAgB;IAEhCC,IAAIA,CAACC,IAAS;MACpB,IAAI,CAACF,IAAI,CAACG,QAAQ,CAACD,IAAI,CAAC;IAC1B;IAEAE,UAAUA,CAAA;MACR,MAAMF,IAAI,GAAG,IAAI,CAACF,IAAI,CAACK,cAAc,EAAE;MACvC,OAAOH,IAAI,GAAGA,IAAI,CAACI,MAAM,CAACC,OAAO,GAAG,CAAC;IACvC;IAEAC,cAAcA,CAAA;MACZ,MAAMN,IAAI,GAAG,IAAI,CAACF,IAAI,CAACK,cAAc,EAAE;MACvC,OAAOH,IAAI,GAAGA,IAAI,CAACI,MAAM,CAACG,MAAM,GAAG,CAAC;IACtC;IAEAC,eAAeA,CAAA;MACb,MAAMR,IAAI,GAAG,IAAI,CAACF,IAAI,CAACK,cAAc,EAAE;MACvC,OAAOH,IAAI,GAAGA,IAAI,CAACI,MAAM,CAACK,OAAO,GAAG,CAAC;IACvC;IAEAC,SAASA,CAACC,MAAc;MACtB,MAAMX,IAAI,GAAG,IAAI,CAACF,IAAI,CAACK,cAAc,EAAE;MACvC,IAAI,CAACH,IAAI,EAAE;MACXA,IAAI,CAACI,MAAM,CAACC,OAAO,IAAIM,MAAM;MAC7BX,IAAI,CAACI,MAAM,CAACG,MAAM,IAAII,MAAM;MAC5B,IAAI,CAACZ,IAAI,CAACC,IAAI,CAAC;IACjB;IAEAY,UAAUA,CAACD,MAAc;MACvB,MAAMX,IAAI,GAAG,IAAI,CAACF,IAAI,CAACK,cAAc,EAAE;MACvC,IAAI,CAACH,IAAI,EAAE;MACXA,IAAI,CAACI,MAAM,CAACC,OAAO,IAAIM,MAAM;MAC7BX,IAAI,CAACI,MAAM,CAACK,OAAO,IAAIE,MAAM;MAC7B,IAAI,CAACZ,IAAI,CAACC,IAAI,CAAC;IACjB;IAEAa,WAAWA,CAAA;MACT,MAAMb,IAAI,GAAG,IAAI,CAACF,IAAI,CAACK,cAAc,EAAE;MACvC,IAAIH,IAAI,EAAE;QACRA,IAAI,CAACI,MAAM,GAAG;UAAEC,OAAO,EAAE,IAAI;UAAEE,MAAM,EAAE,CAAC;UAAEE,OAAO,EAAE;QAAC,CAAE;QACtD,IAAI,CAACV,IAAI,CAACC,IAAI,CAAC;MACjB;IACF;;;yBA5CWJ,aAAa,EAAAkB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,WAAA;MAAA;IAAA;;;eAAbrB,aAAa;QAAAsB,OAAA,EAAbtB,aAAa,CAAAuB,IAAA;QAAAC,UAAA,EAFZ;MAAM;IAAA;;SAEPxB,aAAa;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}